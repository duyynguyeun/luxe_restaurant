{"version":3,"sources":["../src/index.tsx","../src/modules/dom.ts","../src/modules/helpers.tsx","../src/literals/index.ts","../src/modules/step.ts","../src/defaults.ts","../src/styles.ts","../src/modules/useJoyrideData.ts","../src/modules/store.ts","../src/modules/usePortalElement.ts","../src/components/Overlay.tsx","../src/components/Spotlight.tsx","../src/components/Portal.tsx","../src/components/Step.tsx","../src/modules/scope.ts","../src/components/Beacon.tsx","../src/components/Tooltip/CloseButton.tsx","../src/components/Tooltip/Container.tsx","../src/components/Tooltip/index.tsx"],"sourcesContent":["import { ReactNode, useEffect, useMemo } from 'react';\nimport { useSingleton } from '@gilbarbara/hooks';\n\nimport { canUseDOM } from '~/modules/dom';\nimport { log, mergeProps } from '~/modules/helpers';\nimport { getMergedStep } from '~/modules/step';\nimport useJoyrideData from '~/modules/useJoyrideData';\nimport { usePortalElement } from '~/modules/usePortalElement';\n\nimport { LIFECYCLE, STATUS } from '~/literals';\n\nimport Overlay from '~/components/Overlay';\nimport Portal from '~/components/Portal';\nimport Step from '~/components/Step';\n\nimport { defaultProps } from '~/defaults';\nimport { Props } from '~/types';\n\nexport function Joyride(props: Props) {\n  const mergedProps = mergeProps(defaultProps, props);\n  const { continuous, debug, disableCloseOnEsc, nonce, portalElement, scrollToFirstStep, steps } =\n    mergedProps;\n  const store = useJoyrideData(mergedProps);\n\n  const element = usePortalElement(portalElement);\n\n  useSingleton(() => {\n    log({\n      title: 'init',\n      data: [\n        { key: 'props', value: props },\n        { key: 'state', value: store.current.getState() },\n      ],\n      debug,\n    });\n  });\n\n  // Handle keyboard\n  useEffect(() => {\n    const handleKeyboard = (event: KeyboardEvent) => {\n      const { index, lifecycle } = store.current.getState();\n      const step = steps[index];\n\n      if (lifecycle === LIFECYCLE.TOOLTIP) {\n        if (event.code === 'Escape' && !step.disableCloseOnEsc) {\n          store.current.close('keyboard');\n        }\n      }\n    };\n\n    if (!disableCloseOnEsc) {\n      document.body.addEventListener('keydown', handleKeyboard, { passive: true });\n    }\n\n    return () => {\n      if (!disableCloseOnEsc) {\n        document.body.removeEventListener('keydown', handleKeyboard);\n      }\n    };\n  }, [disableCloseOnEsc, steps, store]);\n\n  const { index, lifecycle, status } = store.current.getState();\n  const isRunning = status === STATUS.RUNNING;\n  const content: Record<string, ReactNode> = {};\n  const step = useMemo(() => getMergedStep(props, steps[index]), [index, props, steps]);\n\n  const handleClickOverlay = () => {\n    if (!step?.disableOverlayClose) {\n      store.current.close('overlay');\n    }\n  };\n\n  if (!step) {\n    return null;\n  }\n\n  if (isRunning) {\n    content.step = (\n      <Step\n        {...store.current.getState()}\n        cleanupPoppers={store.current.cleanupPoppers}\n        continuous={continuous}\n        debug={debug}\n        helpers={store.current.getHelpers()}\n        nonce={nonce}\n        setPopper={store.current.setPopper}\n        shouldScroll={!step.disableScrolling && (index !== 0 || scrollToFirstStep)}\n        step={step}\n        updateState={store.current.updateState}\n      />\n    );\n\n    content.overlay = (\n      <Portal element={element}>\n        <Overlay\n          {...step}\n          continuous={continuous}\n          debug={debug}\n          lifecycle={lifecycle}\n          onClickOverlay={handleClickOverlay}\n        />\n      </Portal>\n    );\n  }\n\n  return (\n    <div className=\"react-joyride\">\n      {content.step}\n      {content.overlay}\n    </div>\n  );\n}\n\nexport default function ReactJoyride(props: Props) {\n  if (!canUseDOM()) {\n    return null;\n  }\n\n  return <Joyride {...props} />;\n}\n\nexport * from './literals';\nexport * from './types';\n","import scroll from 'scroll';\nimport scrollParent from 'scrollparent';\n\nexport function canUseDOM() {\n  return !!(typeof window !== 'undefined' && window.document?.createElement);\n}\n\n/**\n * Find the bounding client rect\n */\nexport function getClientRect(element: HTMLElement | null) {\n  if (!element) {\n    return null;\n  }\n\n  return element.getBoundingClientRect();\n}\n\n/**\n * Helper function to get the browser-normalized \"document height\"\n */\nexport function getDocumentHeight(median = false): number {\n  const { body, documentElement } = document;\n\n  if (!body || !documentElement) {\n    return 0;\n  }\n\n  if (median) {\n    const heights = [\n      body.scrollHeight,\n      body.offsetHeight,\n      documentElement.clientHeight,\n      documentElement.scrollHeight,\n      documentElement.offsetHeight,\n    ].sort((a, b) => a - b);\n    const middle = Math.floor(heights.length / 2);\n\n    if (heights.length % 2 === 0) {\n      return (heights[middle - 1] + heights[middle]) / 2;\n    }\n\n    return heights[middle];\n  }\n\n  return Math.max(\n    body.scrollHeight,\n    body.offsetHeight,\n    documentElement.clientHeight,\n    documentElement.scrollHeight,\n    documentElement.offsetHeight,\n  );\n}\n\n/**\n * Find and return the target DOM element based on a step's 'target'.\n */\nexport function getElement(element?: string | HTMLElement): HTMLElement | null {\n  if (!element) {\n    return null;\n  }\n\n  if (typeof element === 'string') {\n    try {\n      return document.querySelector(element);\n    } catch (error: any) {\n      if (process.env.NODE_ENV !== 'production') {\n        // eslint-disable-next-line no-console\n        console.error(error);\n      }\n\n      return null;\n    }\n  }\n\n  return element;\n}\n\n/**\n *  Get computed style property\n */\nexport function getStyleComputedProperty(el: HTMLElement): CSSStyleDeclaration | null {\n  if (!el || el.nodeType !== 1) {\n    return null;\n  }\n\n  return getComputedStyle(el);\n}\n\n/**\n * Get scroll parent with fix\n */\nexport function getScrollParent(\n  element: HTMLElement | null,\n  skipFix: boolean,\n  forListener?: boolean,\n) {\n  if (!element) {\n    return scrollDocument();\n  }\n\n  const parent = scrollParent(element) as HTMLElement;\n\n  if (parent) {\n    if (parent.isSameNode(scrollDocument())) {\n      if (forListener) {\n        return document;\n      }\n\n      return scrollDocument();\n    }\n\n    const hasScrolling = parent.scrollHeight > parent.offsetHeight;\n\n    if (!hasScrolling && !skipFix) {\n      parent.style.overflow = 'initial';\n\n      return scrollDocument();\n    }\n  }\n\n  return parent;\n}\n\n/**\n * Check if the element has custom scroll parent\n */\nexport function hasCustomScrollParent(element: HTMLElement | null, skipFix: boolean): boolean {\n  if (!element) {\n    return false;\n  }\n\n  const parent = getScrollParent(element, skipFix);\n\n  return parent ? !parent.isSameNode(scrollDocument()) : false;\n}\n\n/**\n * Check if the element has custom offset parent\n */\nexport function hasCustomOffsetParent(element: HTMLElement): boolean {\n  return element.offsetParent !== document.body;\n}\n\n/**\n * Check if an element has fixed/sticky position\n */\nexport function hasPosition(el: HTMLElement | Node | null, type: string = 'fixed'): boolean {\n  if (!el || !(el instanceof HTMLElement)) {\n    return false;\n  }\n\n  const { nodeName } = el;\n  const styles = getStyleComputedProperty(el);\n\n  if (nodeName === 'BODY' || nodeName === 'HTML') {\n    return false;\n  }\n\n  if (styles && styles.position === type) {\n    return true;\n  }\n\n  if (!el.parentNode) {\n    return false;\n  }\n\n  return hasPosition(el.parentNode, type);\n}\n\n/**\n * Check if the element is visible\n */\nexport function isElementVisible(element: HTMLElement): element is HTMLElement {\n  if (!element) {\n    return false;\n  }\n\n  let parentElement: HTMLElement | null = element;\n\n  while (parentElement) {\n    if (parentElement === document.body) {\n      break;\n    }\n\n    if (parentElement instanceof HTMLElement) {\n      const { display, visibility } = getComputedStyle(parentElement);\n\n      if (display === 'none' || visibility === 'hidden') {\n        return false;\n      }\n    }\n\n    parentElement = parentElement.parentElement ?? null;\n  }\n\n  return true;\n}\n\n/**\n * Find and return the target DOM element based on a step's 'target'.\n */\nexport function getElementPosition(\n  element: HTMLElement | null,\n  offset: number,\n  skipFix: boolean,\n): number {\n  const elementRect = getClientRect(element);\n  const parent = getScrollParent(element, skipFix);\n  const hasScrollParent = hasCustomScrollParent(element, skipFix);\n  const isFixedTarget = hasPosition(element);\n  let parentTop = 0;\n  let top = elementRect?.top ?? 0;\n\n  if (hasScrollParent && isFixedTarget) {\n    const offsetTop = element?.offsetTop ?? 0;\n    const parentScrollTop = (parent as HTMLElement)?.scrollTop ?? 0;\n\n    top = offsetTop - parentScrollTop;\n  } else if (parent instanceof HTMLElement) {\n    parentTop = parent.scrollTop;\n\n    if (!hasScrollParent && !hasPosition(element)) {\n      top += parentTop;\n    }\n\n    if (!parent.isSameNode(scrollDocument())) {\n      top += scrollDocument().scrollTop;\n    }\n  }\n\n  return Math.floor(top - offset);\n}\n\n/**\n * Get the scrollTop position\n */\nexport function getScrollTo(element: HTMLElement | null, offset: number, skipFix: boolean): number {\n  if (!element) {\n    return 0;\n  }\n\n  const { offsetTop = 0, scrollTop = 0 } = scrollParent(element) ?? {};\n  let top = element.getBoundingClientRect().top + scrollTop;\n\n  if (!!offsetTop && (hasCustomScrollParent(element, skipFix) || hasCustomOffsetParent(element))) {\n    top -= offsetTop;\n  }\n\n  const output = Math.floor(top - offset);\n\n  return output < 0 ? 0 : output;\n}\n\nexport function scrollDocument(): Element | HTMLElement {\n  return document.scrollingElement ?? document.documentElement;\n}\n\n/**\n * Scroll to position\n */\nexport function scrollTo(\n  value: number,\n  options: { duration?: number; element: Element | HTMLElement },\n): Promise<void> {\n  const { duration, element } = options;\n\n  return new Promise((resolve, reject) => {\n    const { scrollTop } = element;\n\n    const limit = value > scrollTop ? value - scrollTop : scrollTop - value;\n\n    scroll.top(element as HTMLElement, value, { duration: limit < 100 ? 50 : duration }, error => {\n      if (error && error.message !== 'Element already at target scroll position') {\n        return reject(error);\n      }\n\n      return resolve();\n    });\n  });\n}\n","import { cloneElement, FC, isValidElement, ReactElement, ReactNode } from 'react';\nimport innerText from 'react-innertext';\nimport { PlainObject, Simplify } from '@gilbarbara/types';\nimport is from 'is-lite';\n\nimport { ACTIONS, LIFECYCLE } from '~/literals';\n\nimport { Actions, AnyObject, Lifecycle, NarrowPlainObject, State, Step } from '~/types';\n\nimport { hasPosition } from './dom';\n\ninterface GetReactNodeTextOptions {\n  defaultValue?: any;\n  step?: number;\n  steps?: number;\n}\n\ninterface LogOptions {\n  /** The data to be logged */\n  data: any;\n  /** display the log */\n  debug?: boolean;\n  /** The title the logger was called from */\n  title: string;\n  /** If true, the message will be a warning */\n  warn?: boolean;\n}\n\ntype RemoveType<TObject, TExclude = undefined> = {\n  [Key in keyof TObject as TObject[Key] extends TExclude ? never : Key]: TObject[Key];\n};\n\ninterface ShouldScrollOptions {\n  isFirstStep: boolean;\n  lifecycle: Lifecycle;\n  previousLifecycle: Lifecycle;\n  scrollToFirstStep: boolean;\n  step: Step;\n  target: HTMLElement | null;\n}\n\n/**\n * Remove properties with undefined value from an object\n */\nexport function cleanUpObject<T extends PlainObject>(input: T) {\n  const output: Record<string, unknown> = {};\n\n  for (const key in input) {\n    if (input[key] !== undefined) {\n      output[key] = input[key];\n    }\n  }\n\n  return output as RemoveType<T>;\n}\n\n/**\n * Get the current browser\n */\nexport function getBrowser(userAgent: string = navigator.userAgent): string {\n  let browser = userAgent;\n\n  if (typeof window === 'undefined') {\n    browser = 'node';\n  }\n  // @ts-expect-error IE support\n  else if (document.documentMode) {\n    browser = 'ie';\n  } else if (/Edge/.test(userAgent)) {\n    browser = 'edge';\n  }\n  // @ts-expect-error Opera 8.0+\n  else if (Boolean(window.opera) || userAgent.includes(' OPR/')) {\n    browser = 'opera';\n  }\n  // @ts-expect-error Firefox 1.0+\n  else if (typeof window.InstallTrigger !== 'undefined') {\n    browser = 'firefox';\n  }\n  // @ts-expect-error Chrome 1+\n  else if (window.chrome) {\n    browser = 'chrome';\n  }\n  // Safari (and Chrome iOS, Firefox iOS)\n  else if (/(Version\\/([\\d._]+).*Safari|CriOS|FxiOS| Mobile\\/)/.test(userAgent)) {\n    browser = 'safari';\n  }\n\n  return browser;\n}\n\n/**\n * Get Object type\n */\nexport function getObjectType(value: unknown): string {\n  return Object.prototype.toString.call(value).slice(8, -1).toLowerCase();\n}\n\nexport function getReactNodeText(input: ReactNode, options: GetReactNodeTextOptions = {}): string {\n  const { defaultValue, step, steps } = options;\n  let text = innerText(input);\n\n  if (!text) {\n    if (\n      isValidElement(input) &&\n      !Object.values(input.props).length &&\n      getObjectType(input.type) === 'function'\n    ) {\n      const component = (input.type as FC)({});\n\n      text = getReactNodeText(component, options);\n    } else {\n      text = innerText(defaultValue);\n    }\n  } else if ((text.includes('{step}') || text.includes('{steps}')) && step && steps) {\n    text = text.replace('{step}', step.toString()).replace('{steps}', steps.toString());\n  }\n\n  return text;\n}\n\n/**\n * Convert hex to RGB\n */\nexport function hexToRGB(hex: string): Array<number> {\n  const shorthandRegex = /^#?([\\da-f])([\\da-f])([\\da-f])$/i;\n  const properHex = hex.replace(shorthandRegex, (_m, r, g, b) => r + r + g + g + b + b);\n\n  const result = /^#?([\\da-f]{2})([\\da-f]{2})([\\da-f]{2})$/i.exec(properHex);\n\n  return result ? [parseInt(result[1], 16), parseInt(result[2], 16), parseInt(result[3], 16)] : [];\n}\n\n/**\n * Decide if the step shouldn't skip the beacon\n */\nexport function hideBeacon(step: Step, state: State, continuous: boolean): boolean {\n  const { action } = state;\n\n  const withContinuous = continuous && ([ACTIONS.PREV, ACTIONS.NEXT] as Actions[]).includes(action);\n\n  return step.disableBeacon || step.placement === 'center' || withContinuous;\n}\n\n/**\n * Detect legacy browsers\n *\n * @returns {boolean}\n */\nexport function isLegacy(): boolean {\n  return !['chrome', 'safari', 'firefox', 'opera'].includes(getBrowser());\n}\n\n/**\n * Log method calls if debug is enabled\n */\nexport function log({ data, debug = false, title, warn = false }: LogOptions) {\n  /* eslint-disable no-console */\n  const logFn = warn ? console.warn ?? console.error : console.log;\n\n  if (debug) {\n    if (title && data) {\n      console.groupCollapsed(\n        `%creact-joyride: ${title}`,\n        'color: #ff0044; font-weight: bold; font-size: 12px;',\n      );\n\n      if (Array.isArray(data)) {\n        data.forEach(d => {\n          if (is.plainObject(d) && d.key) {\n            logFn.apply(console, [d.key, d.value]);\n          } else {\n            logFn.apply(console, [d]);\n          }\n        });\n      } else {\n        logFn.apply(console, [data]);\n      }\n\n      console.groupEnd();\n    } else {\n      console.error('Missing title or data props');\n    }\n  }\n  /* eslint-enable */\n}\n\n/**\n * Merges the defaultProps with literal values with the incoming props, removing undefined values from it that would override the defaultProps.\n * The result is a type-safe object with the defaultProps as required properties.\n */\nexport function mergeProps<TDefaultProps extends PlainObject<any>, TProps extends PlainObject<any>>(\n  defaultProps: TDefaultProps,\n  props: TProps,\n) {\n  const cleanProps = cleanUpObject(props);\n\n  return { ...defaultProps, ...cleanProps } as unknown as Simplify<\n    TProps & Required<Pick<TProps, keyof TDefaultProps & string>>\n  >;\n}\n\n/**\n * A function that does nothing.\n */\nexport function noop() {\n  return undefined;\n}\n\n/**\n * Type-safe Object.keys()\n */\nexport function objectKeys<T extends AnyObject>(input: T) {\n  return Object.keys(input) as Array<keyof T>;\n}\n\n/**\n * Remove properties from an object\n */\nexport function omit<T extends Record<string, any>, K extends keyof T>(\n  input: NarrowPlainObject<T>,\n  ...filter: K[]\n) {\n  if (!is.plainObject(input)) {\n    throw new TypeError('Expected an object');\n  }\n\n  const output: any = {};\n\n  for (const key in input) {\n    /* istanbul ignore else */\n    if ({}.hasOwnProperty.call(input, key)) {\n      if (!filter.includes(key as unknown as K)) {\n        output[key] = input[key];\n      }\n    }\n  }\n\n  return output as Omit<T, K>;\n}\n\n/**\n * Select properties from an object\n */\nexport function pick<T extends Record<string, any>, K extends keyof T>(\n  input: NarrowPlainObject<T>,\n  ...filter: K[]\n) {\n  if (!is.plainObject(input)) {\n    throw new TypeError('Expected an object');\n  }\n\n  if (!filter.length) {\n    return input;\n  }\n\n  const output: any = {};\n\n  for (const key in input) {\n    /* istanbul ignore else */\n    if ({}.hasOwnProperty.call(input, key)) {\n      if (filter.includes(key as unknown as K)) {\n        output[key] = input[key];\n      }\n    }\n  }\n\n  return output as Pick<T, K>;\n}\n\nexport function replaceLocaleContent(input: ReactNode, step: number, steps: number): ReactNode {\n  const replacer = (text: string) =>\n    text.replace('{step}', String(step)).replace('{steps}', String(steps));\n\n  if (getObjectType(input) === 'string') {\n    return replacer(input as string);\n  }\n\n  if (!isValidElement(input)) {\n    return input;\n  }\n\n  const { children } = input.props;\n\n  if (getObjectType(children) === 'string' && children.includes('{step}')) {\n    return cloneElement(input as ReactElement, {\n      children: replacer(children),\n    });\n  }\n\n  if (Array.isArray(children)) {\n    return cloneElement(input as ReactElement, {\n      children: children.map((child: ReactNode) => {\n        if (typeof child === 'string') {\n          return replacer(child);\n        }\n\n        return replaceLocaleContent(child, step, steps);\n      }),\n    });\n  }\n\n  if (getObjectType(input.type) === 'function' && !Object.values(input.props).length) {\n    const component = (input.type as FC)({});\n\n    return replaceLocaleContent(component, step, steps);\n  }\n\n  return input;\n}\n\nexport function shouldScroll(options: ShouldScrollOptions): boolean {\n  const { isFirstStep, lifecycle, previousLifecycle, scrollToFirstStep, step, target } = options;\n\n  return (\n    !step.disableScrolling &&\n    (!isFirstStep || scrollToFirstStep || lifecycle === LIFECYCLE.TOOLTIP) &&\n    step.placement !== 'center' &&\n    (!step.isFixed || !hasPosition(target)) && // fixed steps don't need to scroll\n    previousLifecycle !== lifecycle &&\n    ([LIFECYCLE.BEACON, LIFECYCLE.TOOLTIP] as Array<Lifecycle>).includes(lifecycle)\n  );\n}\n\n/**\n * Block execution\n */\nexport function sleep(seconds = 1) {\n  return new Promise(resolve => {\n    setTimeout(resolve, seconds * 1000);\n  });\n}\n","export const ACTIONS = {\n  INIT: 'init',\n  START: 'start',\n  STOP: 'stop',\n  RESET: 'reset',\n  PREV: 'prev',\n  NEXT: 'next',\n  GO: 'go',\n  CLOSE: 'close',\n  SKIP: 'skip',\n  UPDATE: 'update',\n  COMPLETE: 'complete',\n} as const;\n\nexport const EVENTS = {\n  TOUR_START: 'tour:start',\n  STEP_BEFORE: 'step:before',\n  BEACON: 'beacon',\n  TOOLTIP: 'tooltip',\n  STEP_AFTER: 'step:after',\n  TOUR_END: 'tour:end',\n  TOUR_STATUS: 'tour:status',\n  TARGET_NOT_FOUND: 'error:target_not_found',\n  ERROR: 'error',\n} as const;\n\nexport const LIFECYCLE = {\n  INIT: 'init',\n  READY: 'ready',\n  BEACON: 'beacon',\n  TOOLTIP: 'tooltip',\n  COMPLETE: 'complete',\n  ERROR: 'error',\n} as const;\n\nexport const ORIGIN = {\n  BUTTON_CLOSE: 'button_close',\n  BUTTON_PRIMARY: 'button_primary',\n  KEYBOARD: 'keyboard',\n  OVERLAY: 'overlay',\n} as const;\n\nexport const STATUS = {\n  IDLE: 'idle',\n  READY: 'ready',\n  WAITING: 'waiting',\n  RUNNING: 'running',\n  PAUSED: 'paused',\n  SKIPPED: 'skipped',\n  FINISHED: 'finished',\n  ERROR: 'error',\n} as const;\n\nexport const PORTAL_ELEMENT_ID = 'react-joyride-portal';\n","import { Props as FloaterProps } from 'react-floater';\nimport { SetRequired } from '@gilbarbara/types';\nimport deepmerge from 'deepmerge';\nimport is from 'is-lite';\n\nimport { defaultFloaterProps, defaultLocale, defaultStep } from '~/defaults';\nimport getStyles from '~/styles';\nimport { Props, Step, StepMerged } from '~/types';\n\nimport { getElement, hasCustomScrollParent } from './dom';\nimport { log, omit, pick } from './helpers';\n\nfunction getTourProps(props: Props) {\n  return pick(\n    props,\n    'beaconComponent',\n    'disableCloseOnEsc',\n    'disableOverlay',\n    'disableOverlayClose',\n    'disableScrolling',\n    'disableScrollParentFix',\n    'floaterProps',\n    'hideBackButton',\n    'hideCloseButton',\n    'locale',\n    'showProgress',\n    'showSkipButton',\n    'spotlightClicks',\n    'spotlightPadding',\n    'styles',\n    'tooltipComponent',\n  );\n}\n\nexport function getMergedStep(props: Props, currentStep?: Step): StepMerged | null {\n  if (!currentStep) {\n    return null;\n  }\n\n  const step = currentStep ?? {};\n  const mergedStep = deepmerge.all([defaultStep, getTourProps(props), step], {\n    isMergeableObject: is.plainObject,\n  }) as StepMerged;\n\n  const mergedStyles = getStyles(props, mergedStep);\n  const scrollParent = hasCustomScrollParent(\n    getElement(mergedStep.target),\n    mergedStep.disableScrollParentFix,\n  );\n  const floaterProps = deepmerge.all([\n    defaultFloaterProps,\n    props.floaterProps ?? {},\n    mergedStep.floaterProps ?? {},\n  ]) as SetRequired<FloaterProps, 'modifiers' | 'wrapperOptions'>;\n\n  // Set react-floater props\n  floaterProps.offset = mergedStep.offset;\n  floaterProps.styles = deepmerge(floaterProps.styles ?? {}, mergedStyles.floaterStyles);\n\n  floaterProps.offset += props.spotlightPadding ?? mergedStep.spotlightPadding ?? 0;\n\n  if (mergedStep.placementBeacon && floaterProps.wrapperOptions) {\n    floaterProps.wrapperOptions.placement = mergedStep.placementBeacon;\n  }\n\n  if (scrollParent && floaterProps.modifiers.preventOverflow) {\n    floaterProps.modifiers.preventOverflow.options = {\n      ...floaterProps.modifiers.preventOverflow.options,\n      rootBoundary: 'viewport',\n      boundary: 'clippingParents',\n    };\n  }\n\n  return {\n    ...mergedStep,\n    locale: deepmerge.all([defaultLocale, props.locale ?? {}, mergedStep.locale || {}]),\n    floaterProps,\n    styles: omit(mergedStyles, 'floaterStyles'),\n  };\n}\n\n/**\n * Validate if a step is valid\n */\nexport function validateStep(step: Step, debug: boolean = false): boolean {\n  if (!is.plainObject(step)) {\n    log({\n      title: 'validateStep',\n      data: 'step must be an object',\n      warn: true,\n      debug,\n    });\n\n    return false;\n  }\n\n  if (!step.target) {\n    log({\n      title: 'validateStep',\n      data: 'target is missing from the step',\n      warn: true,\n      debug,\n    });\n\n    return false;\n  }\n\n  return true;\n}\n\n/**\n * Validate if steps are valid\n */\nexport function validateSteps(steps: Array<Step>, debug: boolean = false): boolean {\n  if (!is.array(steps)) {\n    log({\n      title: 'validateSteps',\n      data: 'steps must be an array',\n      warn: true,\n      debug,\n    });\n\n    return false;\n  }\n\n  return steps.every(d => validateStep(d, debug));\n}\n","import { noop } from '~/modules/helpers';\n\nimport { ACTIONS, LIFECYCLE, STATUS } from '~/literals';\n\nimport { FloaterProps, Locale, Props, State, Step } from '~/types';\n\nexport const defaultFloaterProps: Omit<FloaterProps, 'component'> = {\n  modifiers: {\n    preventOverflow: {\n      options: {\n        rootBoundary: 'viewport',\n      },\n    },\n  },\n  wrapperOptions: {\n    offset: -18,\n    position: true,\n  },\n};\n\nexport const defaultLocale: Locale = {\n  back: 'Back',\n  close: 'Close',\n  last: 'Last',\n  next: 'Next',\n  nextLabelWithProgress: 'Next (Step {step} of {steps})',\n  open: 'Open the dialog',\n  skip: 'Skip',\n};\n\nexport const defaultStep = {\n  event: 'click',\n  placement: 'bottom',\n  offset: 10,\n  disableBeacon: false,\n  disableCloseOnEsc: false,\n  disableOverlay: false,\n  disableOverlayClose: false,\n  disableScrollParentFix: false,\n  disableScrolling: false,\n  hideBackButton: false,\n  hideCloseButton: false,\n  hideFooter: false,\n  isFixed: false,\n  locale: defaultLocale,\n  showProgress: false,\n  showSkipButton: false,\n  spotlightClicks: false,\n  spotlightPadding: 10,\n} satisfies Omit<Step, 'content' | 'target'>;\n\nexport const defaultProps = {\n  continuous: false,\n  debug: false,\n  disableCloseOnEsc: false,\n  disableOverlay: false,\n  disableOverlayClose: false,\n  disableScrolling: false,\n  disableScrollParentFix: false,\n  getHelpers: noop(),\n  hideBackButton: false,\n  run: true,\n  scrollOffset: 20,\n  scrollDuration: 300,\n  scrollToFirstStep: false,\n  showSkipButton: false,\n  showProgress: false,\n  spotlightClicks: false,\n  spotlightPadding: 10,\n  steps: [],\n} satisfies Props;\n\nexport const defaultState: State = {\n  action: ACTIONS.INIT,\n  controlled: false,\n  index: 0,\n  lifecycle: LIFECYCLE.INIT,\n  origin: null,\n  size: 0,\n  status: STATUS.IDLE,\n};\n","import deepmerge from 'deepmerge';\n\nimport { hexToRGB } from './modules/helpers';\nimport { Props, StepMerged, StylesOptions, StylesWithFloaterStyles } from './types';\n\nconst defaultOptions = {\n  arrowColor: '#fff',\n  backgroundColor: '#fff',\n  beaconSize: 36,\n  overlayColor: 'rgba(0, 0, 0, 0.5)',\n  primaryColor: '#f04',\n  spotlightShadow: '0 0 15px rgba(0, 0, 0, 0.5)',\n  textColor: '#333',\n  width: 380,\n  zIndex: 100,\n} satisfies StylesOptions;\n\nconst buttonBase = {\n  backgroundColor: 'transparent',\n  border: 0,\n  borderRadius: 0,\n  color: '#555',\n  cursor: 'pointer',\n  fontSize: 16,\n  lineHeight: 1,\n  padding: 8,\n  WebkitAppearance: 'none',\n};\n\nconst spotlight = {\n  borderRadius: 4,\n  position: 'absolute',\n};\n\nexport default function getStyles(props: Props, step: StepMerged) {\n  const { floaterProps, styles } = props;\n  const mergedFloaterProps = deepmerge(step.floaterProps ?? {}, floaterProps ?? {});\n  const mergedStyles = deepmerge(styles ?? {}, step.styles ?? {});\n  const options = deepmerge(defaultOptions, mergedStyles.options || {}) satisfies StylesOptions;\n  const hideBeacon = step.placement === 'center' || step.disableBeacon;\n  let { width } = options;\n\n  if (window.innerWidth > 480) {\n    width = 380;\n  }\n\n  if ('width' in options) {\n    width =\n      typeof options.width === 'number' && window.innerWidth < options.width\n        ? window.innerWidth - 30\n        : options.width;\n  }\n\n  const overlay = {\n    bottom: 0,\n    left: 0,\n    overflow: 'hidden',\n    position: 'absolute',\n    right: 0,\n    top: 0,\n    zIndex: options.zIndex,\n  };\n\n  const defaultStyles = {\n    beacon: {\n      ...buttonBase,\n      display: hideBeacon ? 'none' : 'inline-block',\n      height: options.beaconSize,\n      position: 'relative',\n      width: options.beaconSize,\n      zIndex: options.zIndex,\n    },\n    beaconInner: {\n      animation: 'joyride-beacon-inner 1.2s infinite ease-in-out',\n      backgroundColor: options.primaryColor,\n      borderRadius: '50%',\n      display: 'block',\n      height: '50%',\n      left: '50%',\n      opacity: 0.7,\n      position: 'absolute',\n      top: '50%',\n      transform: 'translate(-50%, -50%)',\n      width: '50%',\n    },\n    beaconOuter: {\n      animation: 'joyride-beacon-outer 1.2s infinite ease-in-out',\n      backgroundColor: `rgba(${hexToRGB(options.primaryColor).join(',')}, 0.2)`,\n      border: `2px solid ${options.primaryColor}`,\n      borderRadius: '50%',\n      boxSizing: 'border-box',\n      display: 'block',\n      height: '100%',\n      left: 0,\n      opacity: 0.9,\n      position: 'absolute',\n      top: 0,\n      transformOrigin: 'center',\n      width: '100%',\n    },\n    tooltip: {\n      backgroundColor: options.backgroundColor,\n      borderRadius: 5,\n      boxSizing: 'border-box',\n      color: options.textColor,\n      fontSize: 16,\n      maxWidth: '100%',\n      padding: 15,\n      position: 'relative',\n      width,\n    },\n    tooltipContainer: {\n      lineHeight: 1.4,\n      textAlign: 'center',\n    },\n    tooltipTitle: {\n      fontSize: 18,\n      margin: 0,\n    },\n    tooltipContent: {\n      padding: '20px 10px',\n    },\n    tooltipFooter: {\n      alignItems: 'center',\n      display: 'flex',\n      justifyContent: 'flex-end',\n      marginTop: 15,\n    },\n    tooltipFooterSpacer: {\n      flex: 1,\n    },\n    buttonNext: {\n      ...buttonBase,\n      backgroundColor: options.primaryColor,\n      borderRadius: 4,\n      color: '#fff',\n    },\n    buttonBack: {\n      ...buttonBase,\n      color: options.primaryColor,\n      marginLeft: 'auto',\n      marginRight: 5,\n    },\n    buttonClose: {\n      ...buttonBase,\n      color: options.textColor,\n      height: 14,\n      padding: 15,\n      position: 'absolute',\n      right: 0,\n      top: 0,\n      width: 14,\n    },\n    buttonSkip: {\n      ...buttonBase,\n      color: options.textColor,\n      fontSize: 14,\n    },\n    overlay: {\n      ...overlay,\n      backgroundColor: options.overlayColor,\n      mixBlendMode: 'hard-light',\n    },\n    overlayLegacy: {\n      ...overlay,\n    },\n    overlayLegacyCenter: {\n      ...overlay,\n      backgroundColor: options.overlayColor,\n    },\n    spotlight: {\n      ...spotlight,\n      backgroundColor: 'gray',\n    },\n    spotlightLegacy: {\n      ...spotlight,\n      boxShadow: `0 0 0 9999px ${options.overlayColor}, ${options.spotlightShadow}`,\n    },\n    floaterStyles: {\n      arrow: {\n        color: mergedFloaterProps?.styles?.arrow?.color ?? options.arrowColor,\n      },\n      options: {\n        zIndex: options.zIndex + 100,\n      },\n    },\n    options,\n  };\n\n  return deepmerge(defaultStyles, mergedStyles) as StylesWithFloaterStyles;\n}\n","import { MutableRefObject, useCallback, useMemo, useRef } from 'react';\nimport isEqual from '@gilbarbara/deep-equal';\nimport {\n  useDeepCompareEffect,\n  useMount,\n  usePrevious,\n  useSetState,\n  useSingleton,\n  useUpdateEffect,\n} from '@gilbarbara/hooks';\nimport is from 'is-lite';\nimport useTreeChanges from 'tree-changes-hook';\n\nimport {\n  getElement,\n  getScrollParent,\n  getScrollTo,\n  hasCustomScrollParent,\n  isElementVisible,\n  scrollTo,\n} from '~/modules/dom';\nimport { hideBeacon, log, mergeProps, shouldScroll } from '~/modules/helpers';\nimport { getMergedStep, validateSteps } from '~/modules/step';\nimport createStore from '~/modules/store';\n\nimport { ACTIONS, EVENTS, LIFECYCLE, STATUS } from '~/literals';\n\nimport { defaultProps } from '~/defaults';\nimport { Actions, Props, State, Status } from '~/types';\n\nexport default function useJoyrideData(\n  props: ReturnType<typeof mergeProps<typeof defaultProps, Props>>,\n): MutableRefObject<ReturnType<typeof createStore>> {\n  const {\n    callback,\n    continuous,\n    debug,\n    disableScrollParentFix,\n    getHelpers,\n    run,\n    scrollDuration,\n    scrollOffset,\n    scrollToFirstStep,\n    stepIndex,\n    steps,\n  } = props;\n\n  const store = useRef(createStore(props));\n  const [state, setState] = useSetState<State>(store.current.getState());\n\n  const { action, controlled, index, lifecycle, size, status } = state;\n  const lastAction = useRef<Actions | null>(null);\n\n  const previousProps = usePrevious(props);\n  const previousState = usePrevious(state);\n  const { changed: changedProps } = useTreeChanges(props);\n  const { changed: changedState, changedFrom: changedStateFrom } = useTreeChanges(state);\n\n  const step = useMemo(() => getMergedStep(props, steps[index]), [index, props, steps]);\n\n  const previousStep = useMemo(() => getMergedStep(props, steps[index - 1]), [index, props, steps]);\n\n  useSingleton(() => {\n    store.current.addListener(newState => {\n      setState(newState);\n    });\n  });\n\n  const scrollToStep = useCallback(\n    (lastState: State) => {\n      if (!step) {\n        return;\n      }\n\n      const target = getElement(step.target);\n      const shouldScrollToStep = shouldScroll({\n        isFirstStep: index === 0,\n        lifecycle,\n        previousLifecycle: lastState.lifecycle,\n        scrollToFirstStep,\n        step,\n        target,\n      });\n      const beaconPopper = store.current.getPopper('beacon');\n      const tooltipPopper = store.current.getPopper('tooltip');\n\n      if (status === STATUS.RUNNING && shouldScrollToStep) {\n        const hasCustomScroll = hasCustomScrollParent(target, disableScrollParentFix);\n        const scrollParent = getScrollParent(target, disableScrollParentFix);\n        let scrollY = Math.floor(getScrollTo(target, scrollOffset, disableScrollParentFix)) || 0;\n\n        log({\n          title: 'scrollToStep',\n          data: [\n            { key: 'index', value: index },\n            { key: 'lifecycle', value: lifecycle },\n            { key: 'status', value: status },\n          ],\n          debug,\n        });\n\n        if (lifecycle === LIFECYCLE.BEACON && beaconPopper) {\n          const { modifiersData, placement } = beaconPopper.state ?? {};\n          const { offset } = modifiersData ?? {};\n          const y = offset?.top?.y ?? 0;\n\n          if (!['bottom'].includes(placement) && !hasCustomScroll) {\n            scrollY = Math.floor(y - scrollOffset);\n          }\n        } else if (lifecycle === LIFECYCLE.TOOLTIP && tooltipPopper) {\n          const { modifiersData, placement } = tooltipPopper.state ?? {};\n          const { offset } = modifiersData ?? {};\n          const y = offset?.top?.y ?? 0;\n          const flipped = !!placement && placement !== step.placement;\n\n          if (['top', 'right', 'left'].includes(placement) && !flipped && !hasCustomScroll) {\n            scrollY = Math.floor(y - scrollOffset);\n          } else {\n            scrollY -= step.spotlightPadding;\n          }\n        }\n\n        scrollY = scrollY >= 0 ? scrollY : 0;\n\n        if (status === STATUS.RUNNING) {\n          scrollTo(scrollY, { element: scrollParent as Element, duration: scrollDuration }).then(\n            () => {\n              setTimeout(() => {\n                store.current.getPopper('tooltip')?.update();\n              }, 10);\n            },\n          );\n        }\n      }\n    },\n    [\n      debug,\n      disableScrollParentFix,\n      index,\n      lifecycle,\n      scrollDuration,\n      scrollOffset,\n      scrollToFirstStep,\n      status,\n      step,\n    ],\n  );\n\n  useMount(() => {\n    if (run && size && validateSteps(steps, debug)) {\n      store.current.start();\n    }\n\n    if (getHelpers) {\n      getHelpers(store.current.getHelpers());\n    }\n  });\n\n  /**\n   * Handle updated status\n   */\n  useUpdateEffect(() => {\n    if (run && size && status === STATUS.IDLE) {\n      store.current.updateState({ status: STATUS.READY });\n    }\n\n    if (getHelpers) {\n      getHelpers(store.current.getHelpers());\n    }\n  }, [getHelpers, run, size, status]);\n\n  useDeepCompareEffect(() => {\n    if (!previousProps || !previousState) {\n      return;\n    }\n\n    /**\n     * Handle step changes\n     */\n\n    const isAfterAction = changedState('action', [\n      ACTIONS.NEXT,\n      ACTIONS.PREV,\n      ACTIONS.SKIP,\n      ACTIONS.CLOSE,\n    ]);\n\n    // Set the last action if it's an after action, but not if it's a CLOSE action when the current action is START\n    if (isAfterAction || (lastAction.current === ACTIONS.CLOSE && action === ACTIONS.START)) {\n      lastAction.current = action;\n    }\n\n    if (status === STATUS.RUNNING && step && lifecycle === LIFECYCLE.INIT) {\n      store.current.updateState({\n        action: lastAction.current ?? ACTIONS.UPDATE,\n        lifecycle: LIFECYCLE.READY,\n      });\n    }\n\n    if (size && !step && lifecycle === LIFECYCLE.INIT) {\n      store.current.updateState({\n        action: ACTIONS.UPDATE,\n        lifecycle: LIFECYCLE.COMPLETE,\n        status: STATUS.FINISHED,\n      });\n    }\n\n    /**\n     * Handle placement \"center\"\n     */\n    if (\n      status === STATUS.RUNNING &&\n      step?.placement === 'center' &&\n      changedState('lifecycle', LIFECYCLE.COMPLETE)\n    ) {\n      store.current.updateState({ action: ACTIONS.UPDATE, lifecycle: LIFECYCLE.INIT });\n    }\n\n    const element = getElement(step?.target);\n    const elementExists = !!element;\n\n    if (step && elementExists && isElementVisible(element)) {\n      if (changedStateFrom('lifecycle', LIFECYCLE.INIT, LIFECYCLE.READY)) {\n        callback?.({\n          ...state,\n          action: lastAction.current ?? action,\n          step,\n          type: EVENTS.STEP_BEFORE,\n        });\n      }\n    } else if (step && status === STATUS.RUNNING) {\n      // eslint-disable-next-line no-console\n      console.warn(elementExists ? 'Target not visible' : 'Target not mounted', step);\n\n      callback?.({\n        ...state,\n        type: EVENTS.TARGET_NOT_FOUND,\n        step,\n      });\n\n      if (!controlled) {\n        store.current.updateState({\n          action: ACTIONS.UPDATE,\n          index: index + (action === ACTIONS.PREV ? -1 : 1),\n        });\n      }\n    }\n\n    if (step && changedState('lifecycle', LIFECYCLE.READY)) {\n      store.current.updateState({\n        action: ACTIONS.UPDATE,\n        lifecycle: hideBeacon(step, state, continuous) ? LIFECYCLE.TOOLTIP : LIFECYCLE.BEACON,\n      });\n    }\n\n    if (step && changedState('lifecycle', LIFECYCLE.BEACON)) {\n      callback?.({\n        ...state,\n        step,\n        type: EVENTS.BEACON,\n      });\n    }\n\n    if (step && changedState('lifecycle', LIFECYCLE.TOOLTIP)) {\n      callback?.({\n        ...state,\n        step,\n        type: EVENTS.TOOLTIP,\n      });\n    }\n\n    const isRunningOrPausedWithStep =\n      status === STATUS.RUNNING || (controlled && status === STATUS.PAUSED && !!step);\n    const callbackStep = step ?? previousStep;\n    const shouldSendCallback =\n      isRunningOrPausedWithStep &&\n      callbackStep &&\n      changedState('lifecycle', LIFECYCLE.COMPLETE, LIFECYCLE.TOOLTIP) &&\n      (elementExists || !step);\n\n    if (shouldSendCallback) {\n      callback?.({\n        ...state,\n        action: lastAction.current ?? ACTIONS.UPDATE,\n        index: previousState.index ?? index,\n        lifecycle,\n        step: callbackStep,\n        type: EVENTS.STEP_AFTER,\n      });\n    }\n\n    /**\n     * Handle tour changes\n     */\n\n    // Handle tours without initial steps\n    if (status === STATUS.WAITING) {\n      store.current.updateState({ status: STATUS.RUNNING });\n    }\n\n    if (changedProps()) {\n      const { stepIndex: previousStepIndex, steps: previousSteps } = previousProps;\n\n      if (!isEqual(previousSteps, steps)) {\n        if (validateSteps(steps, debug)) {\n          store.current.updateState({ size: steps.length });\n        } else {\n          // eslint-disable-next-line no-console\n          console.warn('Steps are not valid', steps);\n        }\n      }\n\n      if (changedProps('run')) {\n        if (run) {\n          if (store.current.getState().size) {\n            store.current.start(stepIndex);\n          }\n        } else {\n          store.current.stop();\n        }\n      } else if (is.number(stepIndex) && changedProps('stepIndex')) {\n        const nextAction: Actions =\n          is.number(previousStepIndex) && previousStepIndex < stepIndex\n            ? ACTIONS.NEXT\n            : ACTIONS.PREV;\n\n        if (!([STATUS.FINISHED, STATUS.SKIPPED] as Array<Status>).includes(status)) {\n          store.current.updateState({ action: nextAction, index: stepIndex }, true);\n        }\n      }\n    }\n\n    if (changedState('index')) {\n      log({\n        title: `step:${lifecycle}`,\n        data: [{ key: 'props', value: props }],\n        debug,\n      });\n    }\n\n    if (changedState('lifecycle', LIFECYCLE.COMPLETE) && index && index >= size) {\n      store.current.updateState({\n        action: ACTIONS.UPDATE,\n        lifecycle: LIFECYCLE.COMPLETE,\n        status: STATUS.FINISHED,\n      });\n    }\n\n    if (previousStep && changedState('status', [STATUS.FINISHED, STATUS.SKIPPED])) {\n      callback?.({\n        ...state,\n        index: index - 1,\n        // Return the last step when the tour is finished\n        step: previousStep,\n        type: EVENTS.TOUR_END,\n      });\n      store.current.reset();\n    }\n\n    if (\n      step &&\n      changedStateFrom('status', [STATUS.IDLE, STATUS.READY, STATUS.PAUSED], STATUS.RUNNING)\n    ) {\n      callback?.({\n        ...state,\n        step,\n        type: EVENTS.TOUR_START,\n      });\n    }\n\n    if (step && changedState('action', ACTIONS.STOP)) {\n      callback?.({\n        ...state,\n        step,\n        type: EVENTS.TOUR_STATUS,\n      });\n    }\n\n    if (step && changedState('action', ACTIONS.RESET)) {\n      callback?.({\n        ...state,\n        step,\n        type: EVENTS.TOUR_STATUS,\n      });\n    }\n\n    scrollToStep(previousState);\n  }, [\n    action,\n    callback,\n    changedProps,\n    changedState,\n    changedStateFrom,\n    continuous,\n    controlled,\n    debug,\n    index,\n    lifecycle,\n    previousProps,\n    previousState,\n    previousStep,\n    props,\n    run,\n    scrollToStep,\n    size,\n    state,\n    status,\n    step,\n    stepIndex,\n    steps,\n  ]);\n\n  return store;\n}\n","import { Props as FloaterProps } from 'react-floater';\nimport deepEqual from '@gilbarbara/deep-equal';\nimport is from 'is-lite';\n\nimport { getMergedStep } from '~/modules/step';\n\nimport { ACTIONS, LIFECYCLE, STATUS } from '~/literals';\n\nimport { Origin, Props, State, Status, Step, StoreHelpers } from '~/types';\n\ntype StateWithContinuous = State & { continuous: boolean };\ntype Listener = (state: State) => void;\ntype PopperData = Parameters<NonNullable<FloaterProps['getPopper']>>[0];\n\nconst defaultState: State = {\n  action: 'init',\n  controlled: false,\n  index: 0,\n  lifecycle: LIFECYCLE.INIT,\n  origin: null,\n  size: 0,\n  status: STATUS.IDLE,\n};\n\nclass Store {\n  private beaconPopper: PopperData | null;\n  private tooltipPopper: PopperData | null;\n  private readonly data: Map<string, any> = new Map();\n  private listener: Listener | null;\n  private readonly props: Props;\n  private readonly store: Map<string, any> = new Map();\n\n  constructor(options?: Props) {\n    const { continuous = false, stepIndex, steps = [] } = options ?? {};\n\n    this.setState(\n      {\n        action: ACTIONS.INIT,\n        controlled: is.number(stepIndex),\n        continuous,\n        index: is.number(stepIndex) ? stepIndex : 0,\n        lifecycle: LIFECYCLE.INIT,\n        origin: null,\n        status: steps.length ? STATUS.READY : STATUS.IDLE,\n      },\n      true,\n    );\n\n    this.setSteps(steps);\n    this.beaconPopper = null;\n    this.tooltipPopper = null;\n    this.listener = null;\n    this.props = options ?? { steps: [] };\n  }\n\n  private getStep(nextIndex?: number): Step | null {\n    const steps = this.data.get('steps');\n    const { index } = this.getState();\n\n    return getMergedStep(this.props, steps[nextIndex ?? index]);\n  }\n\n  private getUpdatedIndex(nextIndex: number): number {\n    const { size } = this.getState();\n\n    return Math.min(Math.max(nextIndex, 0), size);\n  }\n\n  private hasUpdatedState(oldState: State): boolean {\n    return !deepEqual(oldState, this.getState());\n  }\n\n  private prepareState(patch: Partial<State>, forceIndex: boolean = false): State {\n    const { action, controlled, index, size, status } = this.getState();\n    const newIndex = patch.index ?? index;\n\n    return {\n      action: patch.action ?? action,\n      controlled,\n      index: controlled && !forceIndex ? index : newIndex,\n      lifecycle: patch.lifecycle ?? LIFECYCLE.INIT,\n      origin: patch.origin ?? null,\n      size: patch.size ?? size,\n      status: patch.status ?? status,\n    };\n  }\n\n  private setState(patch: Partial<StateWithContinuous>, initial: boolean = false) {\n    const state = this.getState();\n\n    const {\n      action,\n      index,\n      lifecycle,\n      origin = null,\n      size,\n      status,\n    } = {\n      ...state,\n      ...patch,\n    };\n\n    this.store.set('action', action);\n    this.store.set('index', index);\n    this.store.set('lifecycle', lifecycle);\n    this.store.set('origin', origin);\n    this.store.set('size', size);\n    this.store.set('status', status);\n\n    if (initial) {\n      this.store.set('controlled', patch.controlled);\n      this.store.set('continuous', patch.continuous);\n    }\n\n    if (this.listener && this.hasUpdatedState(state)) {\n      this.listener(this.getState());\n    }\n  }\n\n  public updateState = (patch: Partial<State>, forceIndex = false) => {\n    this.setState({\n      ...this.getState(),\n      ...this.prepareState(patch, forceIndex),\n    });\n  };\n\n  public cleanupPoppers = () => {\n    this.beaconPopper = null;\n    this.tooltipPopper = null;\n  };\n\n  public getPopper = (name: 'beacon' | 'tooltip'): PopperData | null => {\n    if (name === 'beacon') {\n      return this.beaconPopper;\n    }\n\n    return this.tooltipPopper;\n  };\n\n  public setPopper: NonNullable<FloaterProps['getPopper']> = (popper, type) => {\n    if (type === 'wrapper') {\n      this.beaconPopper = popper;\n    } else {\n      this.tooltipPopper = popper;\n    }\n\n    if (popper && this.store.get('lifecycle') === LIFECYCLE.COMPLETE) {\n      this.updateState({\n        action: ACTIONS.UPDATE,\n        lifecycle: LIFECYCLE.INIT,\n      });\n    }\n\n    const getPopper = this.getStep()?.floaterProps?.getPopper;\n\n    if (getPopper) {\n      getPopper(popper, type);\n    }\n  };\n\n  public addListener = (listener: Listener) => {\n    this.listener = listener;\n  };\n\n  public getState(): State {\n    if (!this?.store?.size) {\n      return { ...defaultState };\n    }\n\n    return {\n      action: this.store.get('action') || '',\n      controlled: this.store.get('controlled') || false,\n      index: parseInt(this.store.get('index'), 10),\n      lifecycle: this.store.get('lifecycle') || '',\n      origin: this.store.get('origin') || null,\n      size: this.store.get('size') || 0,\n      status: (this.store.get('status') as Status) || '',\n    };\n  }\n\n  public setSteps = (steps: Array<Step>) => {\n    const { size, status } = this.getState();\n    const state = {\n      size: steps.length,\n      status,\n    };\n\n    this.data.set('steps', steps);\n\n    if (status === STATUS.WAITING && !size && steps.length) {\n      state.status = STATUS.RUNNING;\n    }\n\n    this.updateState(state);\n  };\n\n  public getHelpers(): StoreHelpers {\n    return {\n      close: this.close,\n      go: this.go,\n      info: this.info,\n      next: this.next,\n      open: this.open,\n      prev: this.prev,\n      reset: this.reset,\n      skip: this.skip,\n    };\n  }\n\n  public close = (origin: Origin | null = null) => {\n    const { index, status } = this.getState();\n\n    if (status !== STATUS.RUNNING) {\n      return;\n    }\n\n    this.updateState({\n      action: ACTIONS.CLOSE,\n      index: index + 1,\n      origin,\n      lifecycle: LIFECYCLE.COMPLETE,\n    });\n  };\n\n  public go = (nextIndex: number) => {\n    const { controlled, status } = this.getState();\n\n    if (controlled || status !== STATUS.RUNNING) {\n      return;\n    }\n\n    const step = this.getStep(nextIndex);\n\n    this.updateState({\n      action: ACTIONS.GO,\n      index: nextIndex,\n      lifecycle: LIFECYCLE.COMPLETE,\n      status: step ? status : STATUS.FINISHED,\n    });\n  };\n\n  public info = (): State => this.getState();\n\n  public next = () => {\n    const { index, status } = this.getState();\n\n    if (status !== STATUS.RUNNING) {\n      return;\n    }\n\n    this.updateState({\n      action: ACTIONS.NEXT,\n      index: this.getUpdatedIndex(index + 1),\n      lifecycle: LIFECYCLE.COMPLETE,\n    });\n  };\n\n  public open = () => {\n    const { status } = this.getState();\n\n    if (status !== STATUS.RUNNING) {\n      return;\n    }\n\n    this.updateState({ action: ACTIONS.UPDATE, lifecycle: LIFECYCLE.TOOLTIP });\n  };\n\n  public prev = () => {\n    const { index, status } = this.getState();\n\n    if (status !== STATUS.RUNNING) {\n      return;\n    }\n\n    this.updateState({\n      action: ACTIONS.PREV,\n      index: this.getUpdatedIndex(index - 1),\n      lifecycle: LIFECYCLE.COMPLETE,\n    });\n  };\n\n  public reset = (restart = false) => {\n    const { controlled } = this.getState();\n\n    if (controlled) {\n      return;\n    }\n\n    this.updateState({\n      action: ACTIONS.RESET,\n      index: 0,\n      lifecycle: LIFECYCLE.COMPLETE,\n      status: restart ? STATUS.RUNNING : STATUS.READY,\n    });\n  };\n\n  public skip = () => {\n    const { status } = this.getState();\n\n    if (status !== STATUS.RUNNING) {\n      return;\n    }\n\n    this.updateState({\n      action: ACTIONS.SKIP,\n      lifecycle: LIFECYCLE.COMPLETE,\n      status: STATUS.SKIPPED,\n    });\n  };\n\n  public start = (nextIndex?: number) => {\n    const { index, size } = this.getState();\n\n    this.updateState(\n      {\n        action: ACTIONS.START,\n        index: is.number(nextIndex) ? nextIndex : index,\n        status: size ? STATUS.RUNNING : STATUS.WAITING,\n      },\n      true,\n    );\n  };\n\n  public stop = (advance = false) => {\n    const { index, status } = this.getState();\n\n    if (([STATUS.FINISHED, STATUS.SKIPPED] as Array<Status>).includes(status)) {\n      return;\n    }\n\n    this.updateState({\n      action: ACTIONS.STOP,\n      index: index + (advance ? 1 : 0),\n      lifecycle: LIFECYCLE.COMPLETE,\n      status: STATUS.PAUSED,\n    });\n  };\n}\n\nexport type StoreInstance = ReturnType<typeof createStore>;\n\nexport default function createStore(options?: Props) {\n  return new Store(options);\n}\n","import { useMount, useSetState, useUnmount } from '@gilbarbara/hooks';\nimport is from 'is-lite';\n\nimport { PORTAL_ELEMENT_ID } from '~/literals';\n\nimport { SelectorOrElement } from '~/types';\n\ninterface State {\n  element: HTMLElement | null;\n  useExternalPortal: boolean;\n}\n\nexport function usePortalElement(portalElement?: SelectorOrElement) {\n  const [{ element, useExternalPortal }, setState] = useSetState<State>({\n    useExternalPortal: false,\n    element: null,\n  });\n\n  useMount(() => {\n    if (portalElement) {\n      if (is.domElement(portalElement)) {\n        setState({ element: portalElement, useExternalPortal: true });\n      } else {\n        const portal = document.querySelector(portalElement);\n\n        if (portal) {\n          setState({ element: portal as HTMLElement });\n        }\n      }\n    }\n\n    if (!portalElement) {\n      const portal = document.createElement('div');\n\n      portal.id = PORTAL_ELEMENT_ID;\n\n      document.body.appendChild(portal);\n      setState({ element: portal });\n    }\n  });\n\n  useUnmount(() => {\n    if (!element || useExternalPortal) {\n      return;\n    }\n\n    if (element.parentNode === document.body) {\n      document.body.removeChild(element);\n    }\n  });\n\n  return element as HTMLElement;\n}\n","import { CSSProperties, useCallback, useEffect, useMemo, useRef } from 'react';\nimport { useIsMounted, useMount, useSetState, useUnmount } from '@gilbarbara/hooks';\nimport useTreeChanges from 'tree-changes-hook';\n\nimport {\n  getClientRect,\n  getDocumentHeight,\n  getElement,\n  getElementPosition,\n  getScrollParent,\n  hasCustomScrollParent,\n  hasPosition,\n} from '~/modules/dom';\nimport { getBrowser, isLegacy, log } from '~/modules/helpers';\n\nimport { LIFECYCLE } from '~/literals';\n\nimport { Lifecycle, OverlayProps } from '~/types';\n\nimport Spotlight from './Spotlight';\n\ninterface State {\n  isScrolling: boolean;\n  mouseOverSpotlight: boolean;\n  resizedAt: number;\n  showSpotlight: boolean;\n}\n\ninterface SpotlightStyles extends CSSProperties {\n  height: number;\n  left: number;\n  top: number;\n  width: number;\n}\n\nexport default function JoyrideOverlay(props: OverlayProps) {\n  const {\n    continuous,\n    debug,\n    disableOverlay,\n    disableOverlayClose,\n    disableScrolling,\n    disableScrollParentFix = false,\n    lifecycle,\n    onClickOverlay,\n    placement,\n    spotlightClicks,\n    spotlightPadding = 0,\n    styles,\n    target,\n  } = props;\n  const isMounted = useIsMounted();\n\n  const { changed } = useTreeChanges(props);\n  const resizeTimeoutRef = useRef<number>();\n  const scrollTimeoutRef = useRef<number>();\n  const scrollParentRef = useRef<Element | Document | null>(null);\n\n  const [{ isScrolling, mouseOverSpotlight, showSpotlight }, setState] = useSetState<State>({\n    isScrolling: false,\n    mouseOverSpotlight: false,\n    resizedAt: 0,\n    showSpotlight: true,\n  });\n\n  const updateState = useCallback(\n    (state: Partial<State>) => {\n      if (!isMounted) {\n        return;\n      }\n\n      setState(state);\n    },\n    [isMounted, setState],\n  );\n\n  const overlayStyles = useMemo(() => {\n    let baseStyles = styles.overlay;\n\n    if (isLegacy()) {\n      baseStyles = placement === 'center' ? styles.overlayLegacyCenter : styles.overlayLegacy;\n    }\n\n    return {\n      cursor: disableOverlayClose ? 'default' : 'pointer',\n      height: getDocumentHeight(),\n      pointerEvents: mouseOverSpotlight ? 'none' : 'auto',\n      ...baseStyles,\n    } as CSSProperties;\n  }, [\n    disableOverlayClose,\n    mouseOverSpotlight,\n    placement,\n    styles.overlay,\n    styles.overlayLegacy,\n    styles.overlayLegacyCenter,\n  ]);\n\n  const spotlightStyles = useMemo(() => {\n    const element = getElement(target);\n    const elementRect = getClientRect(element);\n    const isFixedTarget = hasPosition(element);\n    const top = getElementPosition(element, spotlightPadding, disableScrollParentFix);\n\n    return {\n      height: Math.round((elementRect?.height ?? 0) + spotlightPadding * 2),\n      left: Math.round((elementRect?.left ?? 0) - spotlightPadding),\n      opacity: showSpotlight ? 1 : 0,\n      pointerEvents: spotlightClicks ? 'none' : 'auto',\n      position: isFixedTarget ? 'fixed' : 'absolute',\n      top,\n      transition: 'opacity 0.2s',\n      width: Math.round((elementRect?.width ?? 0) + spotlightPadding * 2),\n      ...(isLegacy() ? styles.spotlightLegacy : styles.spotlight),\n    } satisfies SpotlightStyles;\n  }, [\n    disableScrollParentFix,\n    showSpotlight,\n    spotlightClicks,\n    spotlightPadding,\n    styles.spotlight,\n    styles.spotlightLegacy,\n    target,\n  ]);\n\n  const handleMouseMove = useCallback(\n    (event: MouseEvent) => {\n      const { height, left, position, top, width } = spotlightStyles;\n\n      const offsetY = position === 'fixed' ? event.clientY : event.pageY;\n      const offsetX = position === 'fixed' ? event.clientX : event.pageX;\n      const inSpotlightHeight = offsetY >= top && offsetY <= top + height;\n      const inSpotlightWidth = offsetX >= left && offsetX <= left + width;\n      const inSpotlight = inSpotlightWidth && inSpotlightHeight;\n\n      if (inSpotlight !== mouseOverSpotlight) {\n        updateState({ mouseOverSpotlight: inSpotlight });\n      }\n    },\n    [spotlightStyles, mouseOverSpotlight, updateState],\n  );\n\n  const handleResize = useCallback(() => {\n    clearTimeout(resizeTimeoutRef.current);\n\n    resizeTimeoutRef.current = window.setTimeout(() => {\n      if (!isMounted) {\n        return;\n      }\n\n      setState({ resizedAt: Date.now() });\n    }, 100);\n  }, [isMounted, setState]);\n\n  const handleScroll = useCallback(() => {\n    const element = getElement(target);\n\n    if (scrollParentRef.current !== document) {\n      if (!isScrolling) {\n        updateState({ isScrolling: true, showSpotlight: false });\n      }\n\n      clearTimeout(scrollTimeoutRef.current);\n\n      scrollTimeoutRef.current = window.setTimeout(() => {\n        updateState({ isScrolling: false, showSpotlight: true });\n      }, 50);\n    } else if (hasPosition(element, 'sticky')) {\n      updateState({});\n    }\n  }, [isScrolling, target, updateState]);\n\n  useMount(() => {\n    const element = getElement(target);\n\n    scrollParentRef.current = getScrollParent(\n      element ?? document.body,\n      disableScrollParentFix,\n      true,\n    );\n\n    if (process.env.NODE_ENV !== 'production') {\n      if (!disableScrolling && hasCustomScrollParent(element, true)) {\n        log({\n          title: 'step has a custom scroll parent and can cause trouble with scrolling',\n          data: [{ key: 'parent', value: scrollParentRef }],\n          debug,\n        });\n      }\n    }\n\n    window.addEventListener('resize', handleResize);\n  });\n\n  useUnmount(() => {\n    window.removeEventListener('mousemove', handleMouseMove);\n    window.removeEventListener('resize', handleResize);\n\n    clearTimeout(resizeTimeoutRef.current);\n    clearTimeout(scrollTimeoutRef.current);\n\n    scrollParentRef?.current?.removeEventListener('scroll', handleScroll);\n  });\n\n  useEffect(() => {\n    if (changed('lifecycle', LIFECYCLE.TOOLTIP)) {\n      scrollParentRef?.current?.addEventListener('scroll', handleScroll, { passive: true });\n\n      setTimeout(() => {\n        if (!isScrolling) {\n          updateState({ showSpotlight: true });\n        }\n      }, 100);\n    }\n  }, [changed, handleScroll, isScrolling, updateState]);\n\n  useEffect(() => {\n    if (changed('spotlightClicks') || changed('disableOverlay') || changed('lifecycle')) {\n      if (spotlightClicks && lifecycle === LIFECYCLE.TOOLTIP) {\n        window.addEventListener('mousemove', handleMouseMove, false);\n      } else if (lifecycle !== LIFECYCLE.TOOLTIP) {\n        window.removeEventListener('mousemove', handleMouseMove);\n      }\n    }\n  }, [changed, handleMouseMove, lifecycle, spotlightClicks]);\n\n  useEffect(() => {\n    if (changed('target') || changed('disableScrollParentFix')) {\n      const element = getElement(target);\n\n      scrollParentRef.current = getScrollParent(\n        element ?? document.body,\n        disableScrollParentFix,\n        true,\n      );\n    }\n  }, [changed, disableScrollParentFix, target]);\n\n  const hiddenLifecycles = [\n    LIFECYCLE.INIT,\n    LIFECYCLE.BEACON,\n    LIFECYCLE.COMPLETE,\n    LIFECYCLE.ERROR,\n  ] as Lifecycle[];\n\n  if (\n    disableOverlay ||\n    (continuous ? hiddenLifecycles.includes(lifecycle) : lifecycle !== LIFECYCLE.TOOLTIP)\n  ) {\n    return null;\n  }\n\n  let spotlight = placement !== 'center' && showSpotlight && <Spotlight styles={spotlightStyles} />;\n  const actualOverlayStyles = { ...overlayStyles };\n\n  // Hack for Safari bug with mix-blend-mode with z-index\n  if (getBrowser() === 'safari') {\n    const { mixBlendMode, zIndex, ...safariOverlay } = overlayStyles;\n\n    spotlight = <div style={{ ...safariOverlay }}>{spotlight}</div>;\n    delete actualOverlayStyles.backgroundColor;\n  }\n\n  return (\n    <div\n      className=\"react-joyride__overlay\"\n      data-test-id=\"overlay\"\n      onClick={onClickOverlay}\n      role=\"presentation\"\n      style={actualOverlayStyles}\n    >\n      {spotlight}\n    </div>\n  );\n}\n","import { CSSProperties } from 'react';\n\ninterface Props {\n  styles: CSSProperties;\n}\n\nexport default function JoyrideSpotlight({ styles }: Props) {\n  return (\n    <div\n      key=\"JoyrideSpotlight\"\n      className=\"react-joyride__spotlight\"\n      data-test-id=\"spotlight\"\n      style={styles}\n    />\n  );\n}\n","import { ReactElement } from 'react';\nimport { createPortal } from 'react-dom';\n\ninterface Props {\n  children: ReactElement;\n  element: HTMLElement;\n}\n\nexport default function JoyridePortal(props: Props) {\n  const { children, element } = props;\n\n  if (!element) {\n    return null;\n  }\n\n  return createPortal(children, element);\n}\n","import { MouseEvent, useEffect, useRef } from 'react';\nimport Floater, { CustomComponentProps } from 'react-floater';\nimport { useMount, useUnmount } from '@gilbarbara/hooks';\nimport is from 'is-lite';\nimport useTreeChanges from 'tree-changes-hook';\n\nimport { getElement } from '~/modules/dom';\nimport { log } from '~/modules/helpers';\nimport Scope from '~/modules/scope';\nimport { validateStep } from '~/modules/step';\n\nimport { LIFECYCLE, PORTAL_ELEMENT_ID } from '~/literals';\n\nimport { StepProps } from '~/types';\n\nimport Beacon from './Beacon';\nimport Tooltip from './Tooltip/index';\n\nexport default function JoyrideStep(props: StepProps) {\n  const {\n    cleanupPoppers,\n    continuous,\n    debug,\n    helpers,\n    index,\n    lifecycle,\n    nonce,\n    setPopper,\n    shouldScroll,\n    size,\n    step,\n    updateState,\n  } = props;\n  const scopeRef = useRef<Scope | null>(null);\n  const tooltipRef = useRef<HTMLElement | null>(null);\n  const { changed, changedFrom } = useTreeChanges(props);\n\n  useMount(() => {\n    log({\n      title: `step:${index}`,\n      data: [{ key: 'props', value: props }],\n      debug,\n    });\n  });\n\n  useUnmount(() => {\n    scopeRef.current?.removeScope();\n  });\n\n  useEffect(() => {\n    if (changed('lifecycle', LIFECYCLE.TOOLTIP)) {\n      if (shouldScroll && tooltipRef.current) {\n        scopeRef.current = new Scope(tooltipRef.current, { selector: '[data-action=primary]' });\n        scopeRef.current.setFocus();\n      }\n    }\n\n    if (changedFrom('lifecycle', [LIFECYCLE.TOOLTIP, LIFECYCLE.INIT], LIFECYCLE.INIT)) {\n      scopeRef.current?.removeScope();\n      cleanupPoppers();\n    }\n  }, [changed, changedFrom, cleanupPoppers, shouldScroll]);\n\n  const handleClickHoverBeacon = (event: MouseEvent<HTMLElement>) => {\n    if (event.type === 'mouseenter' && step.event !== 'hover') {\n      return;\n    }\n\n    updateState({ lifecycle: LIFECYCLE.TOOLTIP });\n  };\n\n  const setTooltipRef = (element: HTMLElement) => {\n    tooltipRef.current = element;\n  };\n\n  const target = getElement(step.target);\n\n  if (!validateStep(step) || !is.domElement(target)) {\n    return null;\n  }\n\n  const tooltip = (renderProps: CustomComponentProps) => {\n    return (\n      <Tooltip\n        continuous={continuous}\n        helpers={helpers}\n        index={index}\n        isLastStep={index + 1 === size}\n        setTooltipRef={setTooltipRef}\n        size={size}\n        step={step}\n        {...renderProps}\n      />\n    );\n  };\n\n  return (\n    <div className=\"react-joyride__step\">\n      <Floater\n        key={`JoyrideStep-${index}`}\n        {...step.floaterProps}\n        component={tooltip}\n        debug={debug}\n        getPopper={setPopper}\n        id={`react-joyride-step-${index}`}\n        open={lifecycle === LIFECYCLE.TOOLTIP}\n        placement={step.placement}\n        portalElement={`#${PORTAL_ELEMENT_ID}`}\n        target={step.target}\n      >\n        <Beacon\n          beaconComponent={step.beaconComponent}\n          continuous={continuous}\n          index={index}\n          isLastStep={index + 1 === size}\n          locale={step.locale}\n          nonce={nonce}\n          onClickOrHover={handleClickHoverBeacon}\n          shouldFocus={shouldScroll}\n          size={size}\n          step={step}\n          styles={step.styles}\n        />\n      </Floater>\n    </div>\n  );\n}\n","interface ScopeOptions {\n  code?: string;\n  selector: string | null;\n}\n\nexport default class Scope {\n  element: HTMLElement;\n  options: ScopeOptions;\n\n  constructor(element: HTMLElement, options: ScopeOptions) {\n    if (!(element instanceof HTMLElement)) {\n      throw new TypeError('Invalid parameter: element must be an HTMLElement');\n    }\n\n    this.element = element;\n    this.options = options;\n\n    window.addEventListener('keydown', this.handleKeyDown, false);\n\n    this.setFocus();\n  }\n\n  canBeTabbed = (element: HTMLElement): boolean => {\n    const { tabIndex } = element;\n\n    if (tabIndex === null || tabIndex < 0) {\n      return false;\n    }\n\n    return this.canHaveFocus(element);\n  };\n\n  canHaveFocus = (element: HTMLElement): boolean => {\n    const validTabNodes = /input|select|textarea|button|object/;\n    const nodeName = element.nodeName.toLowerCase();\n\n    const isValid =\n      (validTabNodes.test(nodeName) && !element.getAttribute('disabled')) ||\n      (nodeName === 'a' && !!element.getAttribute('href'));\n\n    return isValid && this.isVisible(element);\n  };\n\n  findValidTabElements = (): Array<HTMLElement> =>\n    [].slice.call(this.element.querySelectorAll('*'), 0).filter(this.canBeTabbed);\n\n  handleKeyDown = (event: KeyboardEvent) => {\n    const { code = 'Tab' } = this.options;\n\n    if (event.code === code) {\n      this.interceptTab(event);\n    }\n  };\n\n  interceptTab = (event: KeyboardEvent) => {\n    event.preventDefault();\n    const elements = this.findValidTabElements();\n    const { shiftKey } = event;\n\n    if (!elements.length) {\n      return;\n    }\n\n    let x = document.activeElement ? elements.indexOf(document.activeElement as HTMLElement) : 0;\n\n    if (x === -1 || (!shiftKey && x + 1 === elements.length)) {\n      x = 0;\n    } else if (shiftKey && x === 0) {\n      x = elements.length - 1;\n    } else {\n      x += shiftKey ? -1 : 1;\n    }\n\n    elements[x].focus();\n  };\n\n  // eslint-disable-next-line class-methods-use-this\n  isHidden = (element: HTMLElement) => {\n    const noSize = element.offsetWidth <= 0 && element.offsetHeight <= 0;\n    const style = window.getComputedStyle(element);\n\n    if (noSize && !element.innerHTML) {\n      return true;\n    }\n\n    return (\n      (noSize && style.getPropertyValue('overflow') !== 'visible') ||\n      style.getPropertyValue('display') === 'none'\n    );\n  };\n\n  isVisible = (element: HTMLElement): boolean => {\n    let parentElement: HTMLElement | null = element;\n\n    while (parentElement) {\n      if (parentElement instanceof HTMLElement) {\n        if (parentElement === document.body) {\n          break;\n        }\n\n        if (this.isHidden(parentElement)) {\n          return false;\n        }\n\n        parentElement = parentElement.parentNode as HTMLElement;\n      }\n    }\n\n    return true;\n  };\n\n  removeScope = () => {\n    window.removeEventListener('keydown', this.handleKeyDown);\n  };\n\n  checkFocus = (target: HTMLElement) => {\n    if (document.activeElement !== target) {\n      target.focus();\n      window.requestAnimationFrame(() => this.checkFocus(target));\n    }\n  };\n\n  setFocus = () => {\n    const { selector } = this.options;\n\n    if (!selector) {\n      return;\n    }\n\n    const target = this.element.querySelector(selector);\n\n    if (target) {\n      window.requestAnimationFrame(() => this.checkFocus(target as HTMLElement));\n    }\n  };\n}\n","import { useRef } from 'react';\nimport { useMount, useSingleton, useUnmount } from '@gilbarbara/hooks';\nimport is from 'is-lite';\n\nimport { getReactNodeText } from '~/modules/helpers';\n\nimport { BeaconProps } from '~/types';\n\nexport default function JoyrideBeacon(props: BeaconProps) {\n  const {\n    beaconComponent,\n    continuous,\n    index,\n    isLastStep,\n    locale,\n    onClickOrHover,\n    shouldFocus,\n    size,\n    step,\n    styles,\n  } = props;\n  const beaconRef = useRef<HTMLElement | null>(null);\n\n  useSingleton(() => {\n    if (beaconComponent) {\n      return;\n    }\n\n    const head = document.head || document.getElementsByTagName('head')[0];\n    const style = document.createElement('style');\n\n    style.id = 'joyride-beacon-animation';\n\n    if (props.nonce) {\n      style.setAttribute('nonce', props.nonce);\n    }\n\n    const css = `\n        @keyframes joyride-beacon-inner {\n          20% {\n            opacity: 0.9;\n          }\n        \n          90% {\n            opacity: 0.7;\n          }\n        }\n        \n        @keyframes joyride-beacon-outer {\n          0% {\n            transform: scale(1);\n          }\n        \n          45% {\n            opacity: 0.7;\n            transform: scale(0.75);\n          }\n        \n          100% {\n            opacity: 0.9;\n            transform: scale(1);\n          }\n        }\n      `;\n\n    style.appendChild(document.createTextNode(css));\n\n    head.appendChild(style);\n  });\n\n  useMount(() => {\n    if (process.env.NODE_ENV !== 'production') {\n      if (!is.domElement(beaconRef.current)) {\n        console.warn('beacon is not a valid DOM element'); // eslint-disable-line no-console\n      }\n    }\n\n    setTimeout(() => {\n      if (is.domElement(beaconRef.current) && shouldFocus) {\n        beaconRef.current.focus();\n      }\n    }, 0);\n  });\n\n  useUnmount(() => {\n    const style = document.getElementById('joyride-beacon-animation');\n\n    if (style?.parentNode) {\n      style.parentNode.removeChild(style);\n    }\n  });\n\n  const setBeaconRef = (el: HTMLElement | null) => {\n    beaconRef.current = el;\n  };\n\n  const title = getReactNodeText(locale.open);\n  const sharedProps = {\n    'aria-label': title,\n    onClick: onClickOrHover,\n    onMouseEnter: onClickOrHover,\n    ref: setBeaconRef,\n    title,\n  };\n  let component;\n\n  if (beaconComponent) {\n    const BeaconComponent = beaconComponent;\n\n    component = (\n      <BeaconComponent\n        continuous={continuous}\n        index={index}\n        isLastStep={isLastStep}\n        size={size}\n        step={step}\n        {...sharedProps}\n      />\n    );\n  } else {\n    component = (\n      <button\n        key=\"JoyrideBeacon\"\n        className=\"react-joyride__beacon\"\n        data-test-id=\"button-beacon\"\n        style={styles.beacon}\n        type=\"button\"\n        {...sharedProps}\n      >\n        <span style={styles.beaconInner} />\n        <span style={styles.beaconOuter} />\n      </button>\n    );\n  }\n\n  return component;\n}\n","import { CSSProperties } from 'react';\n\ninterface Props {\n  styles: CSSProperties;\n}\n\nexport default function JoyrideTooltipCloseButton({ styles, ...props }: Props) {\n  const { color, height, width, ...style } = styles;\n\n  return (\n    <button style={style} type=\"button\" {...props}>\n      <svg\n        height={typeof height === 'number' ? `${height}px` : height}\n        preserveAspectRatio=\"xMidYMid\"\n        version=\"1.1\"\n        viewBox=\"0 0 18 18\"\n        width={typeof width === 'number' ? `${width}px` : width}\n        xmlns=\"http://www.w3.org/2000/svg\"\n      >\n        <g>\n          <path\n            d=\"M8.13911129,9.00268191 L0.171521827,17.0258467 C-0.0498027049,17.248715 -0.0498027049,17.6098394 0.171521827,17.8327545 C0.28204354,17.9443526 0.427188206,17.9998706 0.572051765,17.9998706 C0.71714958,17.9998706 0.862013139,17.9443526 0.972581703,17.8327545 L9.0000937,9.74924618 L17.0276057,17.8327545 C17.1384085,17.9443526 17.2832721,17.9998706 17.4281356,17.9998706 C17.5729992,17.9998706 17.718097,17.9443526 17.8286656,17.8327545 C18.0499901,17.6098862 18.0499901,17.2487618 17.8286656,17.0258467 L9.86135722,9.00268191 L17.8340066,0.973848225 C18.0553311,0.750979934 18.0553311,0.389855532 17.8340066,0.16694039 C17.6126821,-0.0556467968 17.254037,-0.0556467968 17.0329467,0.16694039 L9.00042166,8.25611765 L0.967006424,0.167268345 C0.745681892,-0.0553188426 0.387317931,-0.0553188426 0.165993399,0.167268345 C-0.0553311331,0.390136635 -0.0553311331,0.751261038 0.165993399,0.974176179 L8.13920499,9.00268191 L8.13911129,9.00268191 Z\"\n            fill={color}\n          />\n        </g>\n      </svg>\n    </button>\n  );\n}\n","import { ReactNode } from 'react';\n\nimport { getReactNodeText } from '~/modules/helpers';\n\nimport { TooltipRenderProps } from '~/types';\n\nimport CloseButton from './CloseButton';\n\nexport default function JoyrideTooltipContainer(props: TooltipRenderProps) {\n  const { backProps, closeProps, index, isLastStep, primaryProps, skipProps, step, tooltipProps } =\n    props;\n  const { content, hideBackButton, hideCloseButton, hideFooter, showSkipButton, styles, title } =\n    step;\n  const output: Record<string, ReactNode> = {};\n\n  output.primary = (\n    <button\n      data-test-id=\"button-primary\"\n      style={styles.buttonNext}\n      type=\"button\"\n      {...primaryProps}\n    />\n  );\n\n  if (showSkipButton && !isLastStep) {\n    output.skip = (\n      <button\n        aria-live=\"off\"\n        data-test-id=\"button-skip\"\n        style={styles.buttonSkip}\n        type=\"button\"\n        {...skipProps}\n      />\n    );\n  }\n\n  if (!hideBackButton && index > 0) {\n    output.back = (\n      <button data-test-id=\"button-back\" style={styles.buttonBack} type=\"button\" {...backProps} />\n    );\n  }\n\n  output.close = !hideCloseButton && (\n    <CloseButton data-test-id=\"button-close\" styles={styles.buttonClose} {...closeProps} />\n  );\n\n  return (\n    <div\n      key=\"JoyrideTooltip\"\n      aria-label={getReactNodeText(title ?? content)}\n      className=\"react-joyride__tooltip\"\n      style={styles.tooltip}\n      {...tooltipProps}\n    >\n      <div style={styles.tooltipContainer}>\n        {title && (\n          <h1 aria-label={getReactNodeText(title)} style={styles.tooltipTitle}>\n            {title}\n          </h1>\n        )}\n        <div style={styles.tooltipContent}>{content}</div>\n      </div>\n      {!hideFooter && (\n        <div style={styles.tooltipFooter}>\n          <div style={styles.tooltipFooterSpacer}>{output.skip}</div>\n          {output.back}\n          {output.primary}\n        </div>\n      )}\n      {output.close}\n    </div>\n  );\n}\n","import { MouseEvent } from 'react';\n\nimport { getReactNodeText, replaceLocaleContent } from '~/modules/helpers';\n\nimport { TooltipProps } from '~/types';\n\nimport Container from './Container';\n\nexport default function Tooltip(props: TooltipProps) {\n  const { continuous, helpers, index, isLastStep, setTooltipRef, size, step } = props;\n\n  const handleClickBack = (event: MouseEvent<HTMLElement>) => {\n    event.preventDefault();\n\n    helpers.prev();\n  };\n\n  const handleClickClose = (event: MouseEvent<HTMLElement>) => {\n    event.preventDefault();\n\n    helpers.close('button_close');\n  };\n\n  const handleClickPrimary = (event: MouseEvent<HTMLElement>) => {\n    event.preventDefault();\n\n    if (!continuous) {\n      helpers.close('button_primary');\n\n      return;\n    }\n\n    helpers.next();\n  };\n\n  const handleClickSkip = (event: MouseEvent<HTMLElement>) => {\n    event.preventDefault();\n\n    helpers.skip();\n  };\n\n  const getElementsProps = () => {\n    const { back, close, last, next, nextLabelWithProgress, skip } = step.locale;\n\n    const backText = getReactNodeText(back);\n    const closeText = getReactNodeText(close);\n    const lastText = getReactNodeText(last);\n    const nextText = getReactNodeText(next);\n    const skipText = getReactNodeText(skip);\n\n    let primary = close;\n    let primaryText = closeText;\n\n    if (continuous) {\n      primary = next;\n      primaryText = nextText;\n\n      if (step.showProgress && !isLastStep) {\n        const labelWithProgress = getReactNodeText(nextLabelWithProgress, {\n          step: index + 1,\n          steps: size,\n        });\n\n        primary = replaceLocaleContent(nextLabelWithProgress, index + 1, size);\n        primaryText = labelWithProgress;\n      }\n\n      if (isLastStep) {\n        primary = last;\n        primaryText = lastText;\n      }\n    }\n\n    return {\n      backProps: {\n        'aria-label': backText,\n        children: back,\n        'data-action': 'back',\n        onClick: handleClickBack,\n        role: 'button',\n        title: backText,\n      },\n      closeProps: {\n        'aria-label': closeText,\n        children: close,\n        'data-action': 'close',\n        onClick: handleClickClose,\n        role: 'button',\n        title: closeText,\n      },\n      primaryProps: {\n        'aria-label': primaryText,\n        children: primary,\n        'data-action': 'primary',\n        onClick: handleClickPrimary,\n        role: 'button',\n        title: primaryText,\n      },\n      skipProps: {\n        'aria-label': skipText,\n        children: skip,\n        'data-action': 'skip',\n        onClick: handleClickSkip,\n        role: 'button',\n        title: skipText,\n      },\n      tooltipProps: {\n        'aria-modal': true,\n        ref: setTooltipRef,\n        role: 'alertdialog',\n      },\n    };\n  };\n\n  const { beaconComponent, tooltipComponent, ...cleanStep } = step;\n  let component;\n\n  if (tooltipComponent) {\n    const renderProps = {\n      ...getElementsProps(),\n      continuous,\n      index,\n      isLastStep,\n      size,\n      step: cleanStep,\n      setTooltipRef,\n    };\n\n    const TooltipComponent = tooltipComponent;\n\n    component = <TooltipComponent {...renderProps} />;\n  } else {\n    component = (\n      <Container\n        {...getElementsProps()}\n        continuous={continuous}\n        index={index}\n        isLastStep={isLastStep}\n        size={size}\n        step={step}\n      />\n    );\n  }\n\n  return component;\n}\n"],"mappings":"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","names":["useEffect","useMemo","useSingleton","defaultProps","deepmerge","is","hideBeacon","deepmerge","is","scrollParent","is","is","defaultState","is","scrollParent","_a","is","useMount","useSetState","is","useSetState","useMount","is","useCallback","useMemo","useRef","useMount","useSetState","useUnmount","useTreeChanges","jsx","useTreeChanges","useRef","useSetState","useCallback","useMemo","useMount","useUnmount","spotlight","useEffect","useRef","useMount","useUnmount","is","useTreeChanges","useRef","useMount","useSingleton","useUnmount","is","jsx","useRef","useSingleton","useMount","is","useUnmount","jsx","jsx","jsxs","jsx","jsx","shouldScroll","useRef","useTreeChanges","useMount","useUnmount","useEffect","is","jsx","jsxs","useSingleton","useEffect","index","lifecycle","step","useMemo"]}